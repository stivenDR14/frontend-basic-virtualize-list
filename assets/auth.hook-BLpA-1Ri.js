import{X as R,Y as U,r as f,Z as I,l as Q,h as y,q as v,t as w,j as u,s as S,f as M,g as E,P as b,_ as k,z as P,A as D,M as h,$ as N,a0 as g,O as $,S as p,a1 as A}from"./index-C6Wihg4f.js";function T(e){const{theme:t,name:o,props:s}=e;return!t||!t.components||!t.components[o]||!t.components[o].defaultProps?s:R(t.components[o].defaultProps,s)}function z(e,t,o,s,a){const[n,i]=f.useState(()=>a&&o?o(e).matches:s?s(e).matches:t);return Q(()=>{if(!o)return;const c=o(e),r=()=>{i(c.matches)};return r(),c.addEventListener("change",r),()=>{c.removeEventListener("change",r)}},[e,o]),n}const H={...I},j=H.useSyncExternalStore;function _(e,t,o,s,a){const n=f.useCallback(()=>t,[t]),i=f.useMemo(()=>{if(a&&o)return()=>o(e).matches;if(s!==null){const{matches:l}=s(e);return()=>l}return n},[n,e,s,a,o]),[c,r]=f.useMemo(()=>{if(o===null)return[n,()=>()=>{}];const l=o(e);return[()=>l.matches,d=>(l.addEventListener("change",d),()=>{l.removeEventListener("change",d)})]},[n,o,e]);return j(r,c,i)}function L(e={}){const{themeId:t}=e;return function(s,a={}){let n=U();n&&t&&(n=n[t]||n);const i=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:c=!1,matchMedia:r=i?window.matchMedia:null,ssrMatchMedia:m=null,noSsr:l=!1}=T({name:"MuiUseMediaQuery",props:a,theme:n});let d=typeof s=="function"?s(n):s;return d=d.replace(/^@media( ?)/m,""),(j!==void 0?_:z)(d,c,r,m,l)}}L();function O(e){return y("MuiCard",e)}v("MuiCard",["root"]);const B=e=>{const{classes:t}=e;return E({root:["root"]},O,t)},G=S(b,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})({overflow:"hidden"}),x=f.forwardRef(function(t,o){const s=w({props:t,name:"MuiCard"}),{className:a,raised:n=!1,...i}=s,c={...s,raised:n},r=B(c);return u.jsx(G,{className:M(r.root,a),elevation:n?8:void 0,ref:o,ownerState:c,...i})});function W(e){return y("MuiCardContent",e)}v("MuiCardContent",["root"]);const X=e=>{const{classes:t}=e;return E({root:["root"]},W,t)},Y=S("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:16,"&:last-child":{paddingBottom:24}}),C=f.forwardRef(function(t,o){const s=w({props:t,name:"MuiCardContent"}),{className:a,component:n="div",...i}=s,c={...s,component:n},r=X(c);return u.jsx(Y,{as:n,className:M(r.root,a),ownerState:c,ref:o,...i})}),Z=L({themeId:k}),F=P(u.jsx("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),q=({children:e,isSmall:t=!0,ratingScore:o})=>{const s=D(),a=Z(s.breakpoints.up("md")),n=a?200:150,i=Array.from({length:o??0},(c,r)=>u.jsx(F,{fontSize:a?"large":"small"},r));return t?u.jsxs(x,{sx:{display:"flex",height:`${n}px`,width:"100%",overflow:"auto"},children:[u.jsx(h,{sx:{width:"33%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:s.palette.secondary.main,color:s.palette.primary.contrastText,p:2,zoom:a?1:.5},children:i}),u.jsx(h,{sx:{width:"67%",display:"flex",flexDirection:"column",overflow:"auto",maxHeight:`${n}px`},children:u.jsx(C,{sx:{flex:"1 0 auto",display:"flex",alignItems:"center",justifyContent:"flex-start",maxHeight:`${n}px`,overflow:"auto"},children:e})})]}):u.jsx(x,{sx:{width:"100%",maxWidth:450,margin:"0 auto",p:{xs:2,sm:3}},children:u.jsx(C,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:e})})},ee=()=>{const{setAuthData:e,showNotification:t}=f.useContext(N),[o,s]=f.useState(!1),[a,n]=f.useState(null);return{login:async(r,m)=>{s(!0),n(null);try{const l=await g.login({email:r,password:m});if(l.code===200)return e(l.token),t(A.loginSuccess,"success"),localStorage.setItem("token",l.token),s(!1),!0;throw new Error(p.mockError)}catch(l){const d=l instanceof Error?l.message:p.mockError;return n(d),t(d,"error"),s(!1),!1}},logout:async()=>{s(!0);try{await g.logout(()=>e("")),t($.logoutSuccess,"success"),s(!1)}catch(r){console.error("Error during logout:",r),t(p.logoutError,"error"),s(!1)}},isLoading:o,error:a}};export{q as C,Z as a,T as g,ee as u};
